"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["app_components_CommitHistoryHeatmap_tsx"],{

/***/ "./app/components/CommitHistoryHeatmap.tsx":
/*!*************************************************!*\
  !*** ./app/components/CommitHistoryHeatmap.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/CommitHistoryHeatmapStyles */ \"./app/styles/CommitHistoryHeatmapStyles.ts\");\n/* harmony import */ var _context_TaskContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../context/TaskContext */ \"./app/context/TaskContext.tsx\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! styled-components */ \"./node_modules/styled-components/dist/styled-components.browser.esm.js\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\nvar DESKTOP_CELL_SIZE = 22;\nvar MOBILE_CELL_SIZE = Math.round(DESKTOP_CELL_SIZE * 0.65);\nvar DAYS_IN_WEEK = 7;\nvar MonthLabel = styled_components__WEBPACK_IMPORTED_MODULE_3__[\"default\"].div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  // ... other existing styles ...\\n  width: 80%; /* Make month labels 20% narrower */\\n  // ... other existing styles ...\\n\"], [\"\\n  // ... other existing styles ...\\n  width: 80%; /* Make month labels 20% narrower */\\n  // ... other existing styles ...\\n\"])));\nvar CommitHistoryHeatmap = function () {\n    var tasks = (0,_context_TaskContext__WEBPACK_IMPORTED_MODULE_2__.useTaskContext)().tasks;\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]), heatmapData = _a[0], setHeatmapData = _a[1];\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(window.innerWidth <= 768), isMobile = _b[0], setIsMobile = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        var generateHeatmapData = function () {\n            console.log('[CommitHistoryHeatmap] Calculating activity data...');\n            var data = {};\n            var today = new Date();\n            var sixMonthsAgo = new Date(today.getFullYear(), today.getMonth() - 5, 1);\n            var startDate = sixMonthsAgo;\n            for (var d = new Date(startDate); d <= today; d.setDate(d.getDate() + 1)) {\n                data[d.toISOString().split('T')[0]] = 0;\n            }\n            tasks.forEach(function (task) {\n                var completionDate = task.completedAt ? new Date(task.completedAt) : null;\n                var updateDate = task.updatedAt ? new Date(task.updatedAt) : null;\n                if (completionDate && completionDate >= startDate && completionDate <= today) {\n                    var dateKey = completionDate.toISOString().split('T')[0];\n                    data[dateKey] = (data[dateKey] || 0) + 1;\n                }\n                if (updateDate && updateDate >= startDate && updateDate <= today && (!completionDate || updateDate < completionDate)) {\n                    var dateKey = updateDate.toISOString().split('T')[0];\n                    data[dateKey] = (data[dateKey] || 0) + 1;\n                }\n            });\n            return Object.entries(data).map(function (_a) {\n                var date = _a[0], count = _a[1];\n                return ({ date: date, count: count });\n            });\n        };\n        setHeatmapData(generateHeatmapData());\n    }, [tasks]);\n    var CELL_SIZE = isMobile ? MOBILE_CELL_SIZE : DESKTOP_CELL_SIZE;\n    var getColor = function (count) {\n        if (count === 0)\n            return '#ebedf0';\n        if (count < 5)\n            return '#9be9a8';\n        if (count < 10)\n            return '#40c463';\n        if (count < 15)\n            return '#30a14e';\n        return '#216e39';\n    };\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var getMonthLabels = function () {\n        if (heatmapData.length === 0)\n            return [];\n        var today = new Date();\n        var sixMonthsAgo = new Date(today.getFullYear(), today.getMonth() - 5, 1);\n        var labels = [];\n        var currentDate = new Date(sixMonthsAgo);\n        var totalOffset = 15;\n        while (currentDate <= today) {\n            var month = currentDate.getMonth();\n            var year = currentDate.getFullYear();\n            var firstDay = new Date(year, month, 1);\n            var lastDay = new Date(year, month + 1, 0);\n            var daysInMonth = lastDay.getDate();\n            var weeksInMonth = Math.ceil((firstDay.getDay() + daysInMonth) / DAYS_IN_WEEK);\n            var width = (weeksInMonth * CELL_SIZE) * 0.88; // 88% of the width is the magic number to align the heatmap with the month labels. DO NOT CHANGE THIS.\n            if (currentDate.getTime() === sixMonthsAgo.getTime()) {\n                totalOffset += -(firstDay.getDay() * CELL_SIZE) / DAYS_IN_WEEK;\n            }\n            labels.push({\n                month: months[month],\n                width: width,\n                offset: totalOffset\n            });\n            totalOffset += width;\n            currentDate.setMonth(currentDate.getMonth() + 1);\n        }\n        return labels;\n    };\n    var totalWeeks = Math.ceil(heatmapData.length / DAYS_IN_WEEK);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.container },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"h3\", { style: _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.title }, \"Task Activity Heatmap (Last 6 Months)\"),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.heatmapWrapper },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.heatmapContent },\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.monthLabels }, getMonthLabels().map(function (_a, index) {\n                    var month = _a.month, width = _a.width, offset = _a.offset;\n                    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(MonthLabel, { key: index, style: __assign(__assign({}, _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.monthLabel), { left: \"\".concat(offset, \"px\"), width: \"\".concat(width, \"px\"), fontSize: isMobile ? '10px' : '12px' }) }, month));\n                })),\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: __assign(__assign({}, _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.heatmapGrid), { gridTemplateColumns: \"repeat(\".concat(totalWeeks, \", \").concat(CELL_SIZE, \"px)\"), gap: isMobile ? '1px' : '2px' }) }, heatmapData.map(function (day, index) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { key: index, style: __assign(__assign({}, _styles_CommitHistoryHeatmapStyles__WEBPACK_IMPORTED_MODULE_1__.commitHistoryHeatmapStyles.heatmapCell), { width: \"\".concat(CELL_SIZE - (isMobile ? 1 : 2), \"px\"), height: \"\".concat(CELL_SIZE - (isMobile ? 1 : 2), \"px\"), backgroundColor: getColor(day.count) }), title: \"\".concat(day.date, \": \").concat(day.count, \" activities\") })); }))))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CommitHistoryHeatmap);\nvar templateObject_1;\n\n\n//# sourceURL=webpack:///./app/components/CommitHistoryHeatmap.tsx?");

/***/ }),

/***/ "./app/styles/CommitHistoryHeatmapStyles.ts":
/*!**************************************************!*\
  !*** ./app/styles/CommitHistoryHeatmapStyles.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commitHistoryHeatmapStyles: () => (/* binding */ commitHistoryHeatmapStyles)\n/* harmony export */ });\nvar commitHistoryHeatmapStyles = {\n    container: {\n        marginTop: '0rem',\n        overflowX: 'auto',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    heatmapWrapper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        maxWidth: '100%',\n    },\n    heatmapContent: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    monthLabels: {\n        display: 'flex',\n        fontSize: '12px',\n        color: '#767676',\n        position: 'relative',\n        marginBottom: '8px',\n        height: '20px',\n        width: '100%',\n    },\n    monthLabel: {\n        position: 'absolute',\n        top: 0,\n    },\n    heatmapGrid: {\n        display: 'grid',\n        gridAutoFlow: 'column',\n        gridTemplateRows: 'repeat(7, 1fr)',\n    },\n    heatmapCell: {\n        borderRadius: '3px',\n    },\n    title: {\n        textAlign: 'center',\n        marginBottom: '1rem',\n    },\n};\n\n\n//# sourceURL=webpack:///./app/styles/CommitHistoryHeatmapStyles.ts?");

/***/ })

}]);