"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[610],{610:(t,e,n)=>{n.r(e),n.d(e,{default:()=>h});var a,r,i=n(540),o={container:{marginTop:"0rem",overflowX:"auto",display:"flex",flexDirection:"column",alignItems:"center"},heatmapWrapper:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%"},heatmapContent:{display:"flex",flexDirection:"column",alignItems:"center"},monthLabels:{display:"flex",fontSize:"12px",color:"#767676",position:"relative",marginBottom:"8px",height:"20px",width:"100%"},monthLabel:{position:"absolute",top:0},heatmapGrid:{display:"grid",gridAutoFlow:"column",gridTemplateRows:"repeat(7, 1fr)"},heatmapCell:{borderRadius:"3px"},title:{textAlign:"center",marginBottom:"1rem"}},l=n(875),c=n(568),s=function(){return s=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s.apply(this,arguments)},p=Math.round(14.3),u=c.Ay.div(m||(a=["\n  // ... other existing styles ...\n  width: 80%; /* Make month labels 20% narrower */\n  // ... other existing styles ...\n"],r=["\n  // ... other existing styles ...\n  width: 80%; /* Make month labels 20% narrower */\n  // ... other existing styles ...\n"],Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,m=a));const h=function(){var t=(0,l.U)().tasks,e=(0,i.useState)([]),n=e[0],a=e[1],r=(0,i.useState)(window.innerWidth<=768),c=r[0];r[1],(0,i.useEffect)((function(){a(function(){console.log("[CommitHistoryHeatmap] Calculating activity data...");for(var e={},n=new Date,a=new Date(n.getFullYear(),n.getMonth()-5,1),r=new Date(a);r<=n;r.setDate(r.getDate()+1))e[r.toISOString().split("T")[0]]=0;return t.forEach((function(t){var r=t.completedAt?new Date(t.completedAt):null,i=t.updatedAt?new Date(t.updatedAt):null;if(r&&r>=a&&r<=n){var o=r.toISOString().split("T")[0];e[o]=(e[o]||0)+1}i&&i>=a&&i<=n&&(!r||i<r)&&(o=i.toISOString().split("T")[0],e[o]=(e[o]||0)+1)})),Object.entries(e).map((function(t){return{date:t[0],count:t[1]}}))}())}),[t]);var h=c?p:22,m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=Math.ceil(n.length/7);return i.createElement("div",{style:o.container},i.createElement("h3",{style:o.title},"Task Activity Heatmap (Last 6 Months)"),i.createElement("div",{style:o.heatmapWrapper},i.createElement("div",{style:o.heatmapContent},i.createElement("div",{style:o.monthLabels},function(){if(0===n.length)return[];for(var t=new Date,e=new Date(t.getFullYear(),t.getMonth()-5,1),a=[],r=new Date(e),i=15;r<=t;){var o=r.getMonth(),l=r.getFullYear(),c=new Date(l,o,1),s=new Date(l,o+1,0).getDate(),p=Math.ceil((c.getDay()+s)/7)*h*.88;r.getTime()===e.getTime()&&(i+=-c.getDay()*h/7),a.push({month:m[o],width:p,offset:i}),i+=p,r.setMonth(r.getMonth()+1)}return a}().map((function(t,e){var n=t.month,a=t.width,r=t.offset;return i.createElement(u,{key:e,style:s(s({},o.monthLabel),{left:"".concat(r,"px"),width:"".concat(a,"px"),fontSize:c?"10px":"12px"})},n)}))),i.createElement("div",{style:s(s({},o.heatmapGrid),{gridTemplateColumns:"repeat(".concat(d,", ").concat(h,"px)"),gap:c?"1px":"2px"})},n.map((function(t,e){return i.createElement("div",{key:e,style:s(s({},o.heatmapCell),{width:"".concat(h-(c?1:2),"px"),height:"".concat(h-(c?1:2),"px"),backgroundColor:(n=t.count,0===n?"#f1f1f1":n<3?"#c6e7c6":n<6?"#7bc87b":n<9?"#4caf50":n<12?"#2e7d32":"#1b5e20")}),title:"".concat(t.date,": ").concat(t.count," activities")});var n}))))))};var m}}]);