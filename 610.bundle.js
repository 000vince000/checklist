"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[610],{610:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a,r,i=n(540),o={container:{marginTop:"0rem",overflowX:"auto",display:"flex",flexDirection:"column",alignItems:"center"},heatmapWrapper:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%"},heatmapContent:{display:"flex",flexDirection:"column",alignItems:"center"},monthLabels:{display:"flex",fontSize:"12px",color:"#767676",position:"relative",marginBottom:"8px",height:"20px",width:"100%"},monthLabel:{position:"absolute",top:0},heatmapGrid:{display:"grid",gridAutoFlow:"column",gridTemplateRows:"repeat(7, 1fr)"},heatmapCell:{borderRadius:"3px"},title:{textAlign:"center",marginBottom:"1rem"}},l=n(875),c=n(568),s=function(){return s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)},p=Math.round(14.3),u=c.Ay.div(m||(a=["\n  // ... other existing styles ...\n  width: 80%; /* Make month labels 20% narrower */\n  // ... other existing styles ...\n"],r=["\n  // ... other existing styles ...\n  width: 80%; /* Make month labels 20% narrower */\n  // ... other existing styles ...\n"],Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,m=a));const h=function(){var e=(0,l.U)().tasks,t=(0,i.useState)([]),n=t[0],a=t[1],r=(0,i.useState)(window.innerWidth<=768),c=r[0];r[1],(0,i.useEffect)((function(){a(function(){console.log("[CommitHistoryHeatmap] Calculating activity data...");for(var t={},n=new Date,a=new Date(n.getFullYear(),n.getMonth()-5,1),r=new Date(a);r<=n;r.setDate(r.getDate()+1))t[r.toISOString().split("T")[0]]=0;return e.forEach((function(e){var r=e.completedAt?new Date(e.completedAt):null,i=e.updatedAt?new Date(e.updatedAt):null;if(r&&r>=a&&r<=n){var o=r.toISOString().split("T")[0];t[o]=(t[o]||0)+1}i&&i>=a&&i<=n&&(!r||i<r)&&(o=i.toISOString().split("T")[0],t[o]=(t[o]||0)+1)})),Object.entries(t).map((function(e){return{date:e[0],count:e[1]}}))}())}),[e]);var h=c?p:22,m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=Math.ceil(n.length/7);return i.createElement("div",{style:o.container},i.createElement("h3",{style:o.title},"Task Activity Heatmap (Last 6 Months)"),i.createElement("div",{style:o.heatmapWrapper},i.createElement("div",{style:o.heatmapContent},i.createElement("div",{style:o.monthLabels},function(){if(0===n.length)return[];for(var e=new Date,t=new Date(e.getFullYear(),e.getMonth()-5,1),a=[],r=new Date(t),i=15;r<=e;){var o=r.getMonth(),l=r.getFullYear(),c=new Date(l,o,1),s=new Date(l,o+1,0).getDate(),p=Math.ceil((c.getDay()+s)/7)*h*.88;r.getTime()===t.getTime()&&(i+=-c.getDay()*h/7),a.push({month:m[o],width:p,offset:i}),i+=p,r.setMonth(r.getMonth()+1)}return a}().map((function(e,t){var n=e.month,a=e.width,r=e.offset;return i.createElement(u,{key:t,style:s(s({},o.monthLabel),{left:"".concat(r,"px"),width:"".concat(a,"px"),fontSize:c?"10px":"12px"})},n)}))),i.createElement("div",{style:s(s({},o.heatmapGrid),{gridTemplateColumns:"repeat(".concat(d,", ").concat(h,"px)"),gap:c?"1px":"2px"})},n.map((function(e,t){return i.createElement("div",{key:t,style:s(s({},o.heatmapCell),{width:"".concat(h-(c?1:2),"px"),height:"".concat(h-(c?1:2),"px"),backgroundColor:(n=e.count,0===n?"#ebedf0":n<5?"#9be9a8":n<10?"#40c463":n<15?"#30a14e":"#216e39")}),title:"".concat(e.date,": ").concat(e.count," activities")});var n}))))))};var m}}]);